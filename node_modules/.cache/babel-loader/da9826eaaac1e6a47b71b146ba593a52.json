{"ast":null,"code":"import _regeneratorRuntime from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kihwan/Desktop/nomadCoder/kimflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import DetailPresenter from\"./DetailPresenter\";import{moviesApi,tvApi}from\"../../api\";var _default=/*#__PURE__*/function(_React$Component){_inherits(_default,_React$Component);var _super=_createSuper(_default);function _default(props){var _this;_classCallCheck(this,_default);_this=_super.call(this,props);var pathname=props.location.pathname;_this.state={result:null,error:null,loading:true,isMovie:pathname.includes(\"/movie/\")};return _this;}_createClass(_default,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,id,push,isMovie,parseId,result,_yield$moviesApi$movi,_yield$tvApi$showDeta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,id=_this$props.match.params.id,push=_this$props.history.push;isMovie=this.state.isMovie;parseId=parseInt(id);if(!isNaN(parseId)){_context.next=5;break;}return _context.abrupt(\"return\",push(\"/\"));case 5:result=null;_context.prev=6;if(!isMovie){_context.next=14;break;}_context.next=10;return moviesApi.movieDetail(parseId);case 10:_yield$moviesApi$movi=_context.sent;result=_yield$moviesApi$movi.data;_context.next=18;break;case 14:_context.next=16;return tvApi.showDetail(parseId);case 16:_yield$tvApi$showDeta=_context.sent;result=_yield$tvApi$showDeta.data;case 18:console.log(result);_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](6);this.setState({error:\"Can't find anything.\"});case 24:_context.prev=24;this.setState({loading:false,result:result});return _context.finish(24);case 27:case\"end\":return _context.stop();}}},_callee,this,[[6,21,24,27]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,result=_this$state.result,error=_this$state.error,loading=_this$state.loading;return/*#__PURE__*/React.createElement(DetailPresenter,{result:result,error:error,loading:loading});}}]);return _default;}(React.Component);export{_default as default};","map":{"version":3,"sources":["/home/kihwan/Desktop/nomadCoder/kimflix/src/Routes/Detail/DetailContainer.js"],"names":["React","DetailPresenter","moviesApi","tvApi","props","pathname","location","state","result","error","loading","isMovie","includes","id","match","params","push","history","parseId","parseInt","isNaN","movieDetail","data","showDetail","console","log","setState","Component"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,WAAjC,C,4HAGI,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EADe,GAGKC,CAAAA,QAHL,CAGmBD,KAHnB,CAGPE,QAHO,CAGKD,QAHL,CAIf,MAAKE,KAAL,CAAa,CACTC,MAAM,CAAE,IADC,CAETC,KAAK,CAAE,IAFE,CAGTC,OAAO,CAAE,IAHA,CAITC,OAAO,CAAEN,QAAQ,CAACO,QAAT,CAAkB,SAAlB,CAJA,CAAb,CAJe,aAUlB,C,0XAMO,KAAKR,K,CAFgBS,E,aAArBC,K,CAAUC,M,CAAWF,E,CACVG,I,aAAXC,O,CAAWD,I,CAGPL,O,CAAY,KAAKJ,K,CAAjBI,O,CACFO,O,CAAUC,QAAQ,CAACN,EAAD,C,KACrBO,KAAK,CAACF,OAAD,C,yDACGF,IAAI,CAAC,GAAD,C,SAGXR,M,CAAS,I,qBAENG,O,iDAC4BT,CAAAA,SAAS,CAACmB,WAAV,CAAsBH,OAAtB,C,6CAAjBV,M,uBAAPc,I,uDAEwBnB,CAAAA,KAAK,CAACoB,UAAN,CAAiBL,OAAjB,C,6CAAjBV,M,uBAAPc,I,SAEPE,OAAO,CAACC,GAAR,CAAYjB,MAAZ,E,iFAEA,KAAKkB,QAAL,CAAc,CAACjB,KAAK,CAAG,sBAAT,CAAd,E,yBAEA,KAAKiB,QAAL,CAAc,CAAEhB,OAAO,CAAC,KAAV,CAAiBF,MAAM,CAANA,MAAjB,CAAd,E,0PAIC,iBAC8B,KAAKD,KADnC,CACGC,MADH,aACGA,MADH,CACWC,KADX,aACWA,KADX,CACkBC,OADlB,aACkBA,OADlB,CAEL,mBACI,oBAAC,eAAD,EACI,MAAM,CAAEF,MADZ,CAEI,KAAK,CAAEC,KAFX,CAGI,OAAO,CAAEC,OAHb,EADJ,CAOH,C,sBAjDwBV,KAAK,CAAC2B,S","sourcesContent":["import React from \"react\";\nimport DetailPresenter from \"./DetailPresenter\";\nimport { moviesApi, tvApi } from \"../../api\";\n\nexport default class extends React.Component {\n    constructor(props) {\n        super(props);\n            \n        const { location: { pathname }} = props;\n        this.state = {\n            result: null,\n            error: null,\n            loading: true,\n            isMovie: pathname.includes(\"/movie/\")\n        };\n    }\n\n    async componentDidMount() {\n        const { \n            match : { params : { id }},\n            history: { push },\n        } = this.props;\n\n        const { isMovie } = this.state;\n        const parseId = parseInt(id);\n        if(isNaN(parseId)){\n            return push(\"/\");\n        }\n\n        let result = null;\n        try {\n            if(isMovie){\n                ({ data : result } = await moviesApi.movieDetail(parseId));\n            } else {\n                ({ data : result } = await tvApi.showDetail(parseId));\n            }\n            console.log(result);\n        } catch {\n            this.setState({error : \"Can't find anything.\"});\n        } finally {\n            this.setState({ loading:false, result });\n        }\n    }\n    \n    render() {\n        const { result, error, loading } = this.state;\n        return (\n            <DetailPresenter \n                result={result} \n                error={error}\n                loading={loading}\n            />\n        )\n    };\n}"]},"metadata":{},"sourceType":"module"}